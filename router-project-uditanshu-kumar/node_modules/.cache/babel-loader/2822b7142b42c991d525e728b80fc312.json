{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/uditanshu/Documents/Masai/ti_144-uditanshu/unit-3/sprint-3/day-4/assignments/router-project-uditanshu-kumar/src/Routes/Cart.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styles from \"./Cart.module.css\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../Context/AuthContextProvider\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Cart = () => {\n  _s();\n\n  let cartItems = React.useRef([]);\n  const [itemDetails, setItemDetails] = React.useState([]);\n  const {\n    isAuth\n  } = React.useContext(AuthContext);\n\n  const getCartItems = async () => {\n    let response = await axios.get(\"https://json-server-react-cart.herokuapp.com/cart\");\n    cartItems = await response.data;\n    await console.log(cartItems);\n    let response2;\n\n    for (let i = 0; i < cartItems.length; i++) {\n      response2 = await axios.get(`https://json-server-react-cart.herokuapp.com/${cartItems[i].type}/${cartItems[i].id}`);\n      await setItemDetails(prev => [...prev, response2.data]);\n    }\n  };\n\n  let history = useHistory();\n  React.useEffect(() => {\n    if (isAuth) {\n      getCartItems();\n    } else {\n      history.push(\"/login\");\n    }\n  }, [isAuth]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.mainContainer,\n    children: itemDetails.map(({\n      name,\n      id,\n      image,\n      price\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: \"itemPic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Price: $ \", price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, `cart-${id}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Cart, \"5IT/6xiQVU84S9iFubxg9/lAKS0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Cart;\nexport { Cart };\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/home/uditanshu/Documents/Masai/ti_144-uditanshu/unit-3/sprint-3/day-4/assignments/router-project-uditanshu-kumar/src/Routes/Cart.jsx"],"names":["React","styles","axios","AuthContext","useHistory","Cart","cartItems","useRef","itemDetails","setItemDetails","useState","isAuth","useContext","getCartItems","response","get","data","console","log","response2","i","length","type","id","prev","history","useEffect","push","mainContainer","map","name","image","price"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,gCAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACjB,MAAIC,SAAS,GAAGN,KAAK,CAACO,MAAN,CAAa,EAAb,CAAhB;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,KAAK,CAACU,QAAN,CAAe,EAAf,CAAtC;AAEA,QAAM;AAAEC,IAAAA;AAAF,MAAaX,KAAK,CAACY,UAAN,CAAiBT,WAAjB,CAAnB;;AAEA,QAAMU,YAAY,GAAG,YAAY;AAC/B,QAAIC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CACnB,mDADmB,CAArB;AAGAT,IAAAA,SAAS,GAAG,MAAMQ,QAAQ,CAACE,IAA3B;AACA,UAAMC,OAAO,CAACC,GAAR,CAAYZ,SAAZ,CAAN;AAEA,QAAIa,SAAJ;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,SAAS,CAACe,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzCD,MAAAA,SAAS,GAAG,MAAMjB,KAAK,CAACa,GAAN,CACf,gDAA+CT,SAAS,CAACc,CAAD,CAAT,CAAaE,IAAK,IAAGhB,SAAS,CAACc,CAAD,CAAT,CAAaG,EAAG,EADrE,CAAlB;AAGA,YAAMd,cAAc,CAAEe,IAAD,IAAU,CAAC,GAAGA,IAAJ,EAAUL,SAAS,CAACH,IAApB,CAAX,CAApB;AACD;AACF,GAdD;;AAgBA,MAAIS,OAAO,GAAGrB,UAAU,EAAxB;AACAJ,EAAAA,KAAK,CAAC0B,SAAN,CAAgB,MAAM;AACpB,QAAIf,MAAJ,EAAY;AACVE,MAAAA,YAAY;AACb,KAFD,MAEO;AACLY,MAAAA,OAAO,CAACE,IAAR,CAAa,QAAb;AACD;AACF,GAND,EAMG,CAAChB,MAAD,CANH;AAQA,sBACE;AAAK,IAAA,SAAS,EAAEV,MAAM,CAAC2B,aAAvB;AAAA,cACGpB,WAAW,CAACqB,GAAZ,CAAgB,CAAC;AAAEC,MAAAA,IAAF;AAAQP,MAAAA,EAAR;AAAYQ,MAAAA,KAAZ;AAAmBC,MAAAA;AAAnB,KAAD,kBACf;AAAA,8BACE;AAAK,QAAA,GAAG,EAAED,KAAV;AAAiB,QAAA,GAAG,EAAC;AAArB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,kBAAMD;AAAN;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA,gCAAeE,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA,OAAW,QAAOT,EAAG,EAArB;AAAA;AAAA;AAAA;AAAA,YADD;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAWD,CA1CD;;GAAMlB,I;UAsBUD,U;;;KAtBVC,I;AA4CN,SAASA,IAAT","sourcesContent":["import React from \"react\";\nimport styles from \"./Cart.module.css\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../Context/AuthContextProvider\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Cart = () => {\n  let cartItems = React.useRef([]);\n  const [itemDetails, setItemDetails] = React.useState([]);\n\n  const { isAuth } = React.useContext(AuthContext);\n\n  const getCartItems = async () => {\n    let response = await axios.get(\n      \"https://json-server-react-cart.herokuapp.com/cart\"\n    );\n    cartItems = await response.data;\n    await console.log(cartItems);\n\n    let response2;\n    for (let i = 0; i < cartItems.length; i++) {\n      response2 = await axios.get(\n        `https://json-server-react-cart.herokuapp.com/${cartItems[i].type}/${cartItems[i].id}`\n      );\n      await setItemDetails((prev) => [...prev, response2.data]);\n    }\n  };\n\n  let history = useHistory();\n  React.useEffect(() => {\n    if (isAuth) {\n      getCartItems();\n    } else {\n      history.push(\"/login\");\n    }\n  }, [isAuth]);\n\n  return (\n    <div className={styles.mainContainer}>\n      {itemDetails.map(({ name, id, image, price }) => (\n        <div key={`cart-${id}`}>\n          <img src={image} alt=\"itemPic\" />\n          <div>{name}</div>\n          <div>Price: $ {price}</div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport { Cart };\n"]},"metadata":{},"sourceType":"module"}